@model string

@{ 
    ViewData["Title"] = "Home Page";
    var isPilot = User.IsInRole("Pilot");
    var primaryActionClass = isPilot
        ? "inline-flex items-center rounded-lg px-6 py-3 ring-2 ring-indigo-600 text-indigo-800 bg-indigo-50 text-lg font-semibold hover:bg-indigo-100"
        : "inline-flex items-center rounded-lg px-4 py-2 ring-1 ring-indigo-600 text-indigo-700 hover:bg-indigo-50";
    var secondaryActionClass = isPilot
        ? "inline-flex items-center rounded-lg px-6 py-3 bg-indigo-700 text-white text-lg font-semibold hover:bg-indigo-800"
        : "inline-flex items-center rounded-lg px-4 py-2 bg-indigo-600 text-white hover:bg-indigo-700";
}

<body class="bg-cover bg-center" style="background-image: url('/images/BackgroundImageGreen.png'); background-repeat: no-repeat; background-attachment: fixed; background-size: 100% 100%;">
    <section class="mx-auto max-w-5xl mt-8">
        <div class="text-center space-y-6">
            <h1 class="text-3xl sm:text-4xl font-bold tracking-tight">
                Welcome to NRL Registration System
            </h1>

            <!-- here is the image -->
            <img src="~/images/standard_kartverket.png"
                 alt="kartverket logo"
                 class="mx-auto w-96 h-auto rounded-lg" />

            @if (!string.IsNullOrWhiteSpace(Model))
            {
                <p class="text-gray-800">@Model</p>
            }

            @if (User.Identity.IsAuthenticated)
            {
                <div class="flex flex-wrap justify-center gap-4">
                    <a asp-action="SelectType" asp-controller="Obstacle"
                       class="@primaryActionClass">
                        Report New Obstacle
                    </a>
                    <a asp-action="List" asp-controller="Obstacle"
                       class="@secondaryActionClass">
                        View All Obstacles
                    </a>
                </div>

                <!-- Role-based quick actions -->
                <div class="mt-6 p-4 bg-white rounded-lg shadow-sm">
                    <h3 class="text-lg font-semibold mb-3">Quick Actions</h3>
                    <div class="flex flex-wrap justify-center gap-2">
                        @if (User.IsInRole("Pilot"))
                        {
                            <a asp-controller="Pilot" asp-action="Map"
                               class="inline-flex items-center px-5 py-3 bg-green-600 text-white rounded-full text-base font-semibold hover:bg-green-700">
                                Pilot Map
                            </a>
                        }
                        
                        @if (User.IsInRole("Admin"))
                        {
                            <a asp-controller="Admin" asp-action="Users"
                               class="inline-flex items-center px-6 py-4 bg-purple-300 text-black rounded-full text-lg hover:bg-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-300">
                                Manage Users
                            </a>
                        }
                        @if (User.IsInRole("Admin") || User.IsInRole("Caseworker"))
                        {
                            <a asp-controller="Obstacle" asp-action="List" asp-route-statusFilter="Pending"
                               class="inline-flex items-center px-6 py-4 bg-yellow-400 text-black rounded-full text-lg hover:bg-yellow-500">
                                Review Pending Obstacles
                            </a>
                            <a asp-controller="Obstacle" asp-action="List" asp-route-statusFilter="Approved"
                               class="inline-flex items-center px-6 py-4 bg-green-300 text-black rounded-full text-lg hover:bg-green-400">
                                View Approved Obstacles
                            </a>
                            <a asp-controller="Obstacle" asp-action="List" asp-route-statusFilter="Declined"
                               class="inline-flex items-center px-6 py-4 bg-red-300 text-black rounded-full text-lg hover:bg-red-400">
                                View Rejected Obstacles
                            </a>
                        }
                    </div>
                </div>
            }
            else
            {
                <div class="space-y-4">
                    <p class="text-gray-600">Please log in to access the obstacle reporting system.</p>
                    <div class="flex flex-wrap justify-center gap-4">
                        <a asp-controller="Account" asp-action="Login"
                           class="inline-flex items-center rounded-lg px-6 py-3 bg-indigo-600 text-white text-lg font-semibold hover:bg-indigo-700">
                            Login
                        </a>
                        <a asp-controller="Account" asp-action="Register"
                           class="inline-flex items-center rounded-lg px-6 py-3 ring-2 ring-indigo-600 text-indigo-800 text-lg font-semibold hover:bg-indigo-100">
                            Register
                        </a>
                    </div>
                </div>
            }
        </div>
    </section>
</body>